{"ast":null,"code":"class ActionProvider {\n  constructor(createChatBotMessage, setStateFunc) {\n    this.createChatBotMessage = createChatBotMessage;\n    this.setState = setStateFunc;\n  }\n  async handleCalorieQuery(weight) {\n    console.log(\"Received weight:\", weight);\n    try {\n      // Fetch JSON files from the public folder\n      const caloriesResponse = await fetch(\"/data/calories.json\");\n      const exerciseResponse = await fetch(\"/data/exercise.json\");\n      if (!caloriesResponse.ok || !exerciseResponse.ok) {\n        throw new Error(\"Failed to load data\");\n      }\n      const caloriesData = await caloriesResponse.json();\n      const exerciseData = await exerciseResponse.json();\n      console.log(\"Exercise Data:\", exerciseData);\n      console.log(\"Calorie Data:\", caloriesData);\n\n      // Find the user with the given weight in exercise data\n      const user = exerciseData.find(entry => parseFloat(entry.Weight) === weight);\n      let message;\n      if (user) {\n        // Find the calories for the matched User_ID\n        const userCalories = caloriesData.find(entry => entry.User_ID === user.User_ID);\n        if (userCalories) {\n          message = this.createChatBotMessage(`Based on our data, a person weighing ${weight} kg (User ID: ${user.User_ID}) burned around ${userCalories.Calories} kcal.`);\n        } else {\n          message = this.createChatBotMessage(\"I couldn't find the exact calorie data for your weight. Please provide more details like age and activity level!\");\n        }\n      } else {\n        message = this.createChatBotMessage(\"Sorry, I couldn't find any matching user data for this weight.\");\n      }\n\n      // Update chatbot state with the new message\n      this.setState(prev => ({\n        ...prev,\n        messages: [...prev.messages, message]\n      }));\n    } catch (error) {\n      console.error(\"Error loading JSON files:\", error);\n      const errorMessage = this.createChatBotMessage(\"Error loading data. Please try again later.\");\n      this.setState(prev => ({\n        ...prev,\n        messages: [...prev.messages, errorMessage]\n      }));\n    }\n  }\n\n  // Example method to handle greetings\n  greet() {\n    const message = this.createChatBotMessage(\"Hello! How can I assist you today?\");\n    this.setState(prev => ({\n      ...prev,\n      messages: [...prev.messages, message]\n    }));\n  }\n}\nexport default ActionProvider;","map":{"version":3,"names":["ActionProvider","constructor","createChatBotMessage","setStateFunc","setState","handleCalorieQuery","weight","console","log","caloriesResponse","fetch","exerciseResponse","ok","Error","caloriesData","json","exerciseData","user","find","entry","parseFloat","Weight","message","userCalories","User_ID","Calories","prev","messages","error","errorMessage","greet"],"sources":["C:/Users/shrut/OneDrive/Documents/project/Food/food-nutrients Phase-II/src/components/chatbot/ActionProvider.js"],"sourcesContent":["class ActionProvider {\r\n  constructor(createChatBotMessage, setStateFunc) {\r\n    this.createChatBotMessage = createChatBotMessage;\r\n    this.setState = setStateFunc;\r\n  }\r\n\r\n  async handleCalorieQuery(weight) {\r\n    console.log(\"Received weight:\", weight);\r\n\r\n    try {\r\n      // Fetch JSON files from the public folder\r\n      const caloriesResponse = await fetch(\"/data/calories.json\");\r\n      const exerciseResponse = await fetch(\"/data/exercise.json\");\r\n\r\n      if (!caloriesResponse.ok || !exerciseResponse.ok) {\r\n        throw new Error(\"Failed to load data\");\r\n      }\r\n\r\n      const caloriesData = await caloriesResponse.json();\r\n      const exerciseData = await exerciseResponse.json();\r\n\r\n      console.log(\"Exercise Data:\", exerciseData);\r\n      console.log(\"Calorie Data:\", caloriesData);\r\n\r\n      // Find the user with the given weight in exercise data\r\n      const user = exerciseData.find(entry => parseFloat(entry.Weight) === weight);\r\n\r\n      let message;\r\n      if (user) {\r\n        // Find the calories for the matched User_ID\r\n        const userCalories = caloriesData.find(entry => entry.User_ID === user.User_ID);\r\n\r\n        if (userCalories) {\r\n          message = this.createChatBotMessage(\r\n            `Based on our data, a person weighing ${weight} kg (User ID: ${user.User_ID}) burned around ${userCalories.Calories} kcal.`\r\n          );\r\n        } else {\r\n          message = this.createChatBotMessage(\r\n            \"I couldn't find the exact calorie data for your weight. Please provide more details like age and activity level!\"\r\n          );\r\n        }\r\n      } else {\r\n        message = this.createChatBotMessage(\"Sorry, I couldn't find any matching user data for this weight.\");\r\n      }\r\n\r\n      // Update chatbot state with the new message\r\n      this.setState(prev => ({\r\n        ...prev,\r\n        messages: [...prev.messages, message],\r\n      }));\r\n\r\n    } catch (error) {\r\n      console.error(\"Error loading JSON files:\", error);\r\n      const errorMessage = this.createChatBotMessage(\"Error loading data. Please try again later.\");\r\n      this.setState(prev => ({\r\n        ...prev,\r\n        messages: [...prev.messages, errorMessage],\r\n      }));\r\n    }\r\n  }\r\n\r\n  // Example method to handle greetings\r\n  greet() {\r\n    const message = this.createChatBotMessage(\"Hello! How can I assist you today?\");\r\n    this.setState(prev => ({\r\n      ...prev,\r\n      messages: [...prev.messages, message],\r\n    }));\r\n  }\r\n}\r\n\r\nexport default ActionProvider;\r\n"],"mappings":"AAAA,MAAMA,cAAc,CAAC;EACnBC,WAAW,CAACC,oBAAoB,EAAEC,YAAY,EAAE;IAC9C,IAAI,CAACD,oBAAoB,GAAGA,oBAAoB;IAChD,IAAI,CAACE,QAAQ,GAAGD,YAAY;EAC9B;EAEA,MAAME,kBAAkB,CAACC,MAAM,EAAE;IAC/BC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,MAAM,CAAC;IAEvC,IAAI;MACF;MACA,MAAMG,gBAAgB,GAAG,MAAMC,KAAK,CAAC,qBAAqB,CAAC;MAC3D,MAAMC,gBAAgB,GAAG,MAAMD,KAAK,CAAC,qBAAqB,CAAC;MAE3D,IAAI,CAACD,gBAAgB,CAACG,EAAE,IAAI,CAACD,gBAAgB,CAACC,EAAE,EAAE;QAChD,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MACxC;MAEA,MAAMC,YAAY,GAAG,MAAML,gBAAgB,CAACM,IAAI,EAAE;MAClD,MAAMC,YAAY,GAAG,MAAML,gBAAgB,CAACI,IAAI,EAAE;MAElDR,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEQ,YAAY,CAAC;MAC3CT,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEM,YAAY,CAAC;;MAE1C;MACA,MAAMG,IAAI,GAAGD,YAAY,CAACE,IAAI,CAACC,KAAK,IAAIC,UAAU,CAACD,KAAK,CAACE,MAAM,CAAC,KAAKf,MAAM,CAAC;MAE5E,IAAIgB,OAAO;MACX,IAAIL,IAAI,EAAE;QACR;QACA,MAAMM,YAAY,GAAGT,YAAY,CAACI,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACK,OAAO,KAAKP,IAAI,CAACO,OAAO,CAAC;QAE/E,IAAID,YAAY,EAAE;UAChBD,OAAO,GAAG,IAAI,CAACpB,oBAAoB,CAChC,wCAAuCI,MAAO,iBAAgBW,IAAI,CAACO,OAAQ,mBAAkBD,YAAY,CAACE,QAAS,QAAO,CAC5H;QACH,CAAC,MAAM;UACLH,OAAO,GAAG,IAAI,CAACpB,oBAAoB,CACjC,kHAAkH,CACnH;QACH;MACF,CAAC,MAAM;QACLoB,OAAO,GAAG,IAAI,CAACpB,oBAAoB,CAAC,gEAAgE,CAAC;MACvG;;MAEA;MACA,IAAI,CAACE,QAAQ,CAACsB,IAAI,KAAK;QACrB,GAAGA,IAAI;QACPC,QAAQ,EAAE,CAAC,GAAGD,IAAI,CAACC,QAAQ,EAAEL,OAAO;MACtC,CAAC,CAAC,CAAC;IAEL,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdrB,OAAO,CAACqB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,MAAMC,YAAY,GAAG,IAAI,CAAC3B,oBAAoB,CAAC,6CAA6C,CAAC;MAC7F,IAAI,CAACE,QAAQ,CAACsB,IAAI,KAAK;QACrB,GAAGA,IAAI;QACPC,QAAQ,EAAE,CAAC,GAAGD,IAAI,CAACC,QAAQ,EAAEE,YAAY;MAC3C,CAAC,CAAC,CAAC;IACL;EACF;;EAEA;EACAC,KAAK,GAAG;IACN,MAAMR,OAAO,GAAG,IAAI,CAACpB,oBAAoB,CAAC,oCAAoC,CAAC;IAC/E,IAAI,CAACE,QAAQ,CAACsB,IAAI,KAAK;MACrB,GAAGA,IAAI;MACPC,QAAQ,EAAE,CAAC,GAAGD,IAAI,CAACC,QAAQ,EAAEL,OAAO;IACtC,CAAC,CAAC,CAAC;EACL;AACF;AAEA,eAAetB,cAAc"},"metadata":{},"sourceType":"module"}