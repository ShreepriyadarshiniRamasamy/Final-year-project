{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shrut\\\\OneDrive\\\\Documents\\\\project\\\\Food\\\\food-nutrients Phase-II\\\\src\\\\components\\\\Chatbot.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Chatbot.css\";\nconst Chatbot = () => {\n  const [messages, setMessages] = useState([{\n    text: \"Hello! Ask me about food nutrients or exercises.\",\n    sender: \"bot\"\n  }]);\n  const [input, setInput] = useState(\"\");\n  const [caloriesData, setCaloriesData] = useState(null);\n  const [exerciseData, setExerciseData] = useState(null);\n\n  // Fetch JSON data on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const caloriesResponse = await fetch(`${window.location.origin}/data/calories.json`);\n        const exerciseResponse = await fetch(`${window.location.origin}/data/exercise.json`);\n        if (!caloriesResponse.ok || !exerciseResponse.ok) {\n          throw new Error(\"Failed to load JSON files\");\n        }\n        const caloriesJson = await caloriesResponse.json();\n        const exerciseJson = await exerciseResponse.json();\n        console.log(\"Calories Data Loaded:\", caloriesJson);\n        console.log(\"Exercise Data Loaded:\", exerciseJson);\n        setCaloriesData(caloriesJson);\n        setExerciseData(exerciseJson);\n      } catch (error) {\n        console.error(\"Error loading JSON data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Generate chatbot response based on input\n  const generateResponse = query => {\n    if (!caloriesData || !exerciseData) {\n      console.warn(\"JSON data is not loaded yet!\");\n      return \"I'm still loading the data. Please try again in a few seconds.\";\n    }\n    if (!query) {\n      return \"Please enter a question!\";\n    }\n    query = query.toLowerCase().trim();\n    console.log(\"User query:\", query);\n    const foodItem = caloriesData.find(food => food.name && query.includes(food.name.toLowerCase()));\n    if (foodItem) {\n      return `The food '${foodItem.name}' contains ${foodItem.calories} calories per ${foodItem.serving_size}.`;\n    }\n    const exerciseItem = exerciseData.find(exercise => exercise.name && query.includes(exercise.name.toLowerCase()));\n    if (exerciseItem) {\n      return `The activity '${exerciseItem.name}' burns around ${exerciseItem.calories_burned} calories per ${exerciseItem.duration}.`;\n    }\n    return \"I couldn't find the information you're looking for. Try asking about a food item or exercise.\";\n  };\n\n  // Handle user input\n  const handleSendMessage = () => {\n    if (input.trim() === \"\") return;\n    const userMessage = {\n      text: input,\n      sender: \"user\"\n    };\n    const botResponse = {\n      text: generateResponse(input),\n      sender: \"bot\"\n    };\n    setMessages([...messages, userMessage, botResponse]);\n    setInput(\"\");\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chatbot-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-window\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, messages.map((msg, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: `message ${msg.sender}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, msg.text))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: input,\n    onChange: e => setInput(e.target.value),\n    placeholder: \"Ask about food or exercise...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Send\")));\n};\nexport default Chatbot;","map":{"version":3,"names":["React","useState","useEffect","Chatbot","messages","setMessages","text","sender","input","setInput","caloriesData","setCaloriesData","exerciseData","setExerciseData","fetchData","caloriesResponse","fetch","window","location","origin","exerciseResponse","ok","Error","caloriesJson","json","exerciseJson","console","log","error","generateResponse","query","warn","toLowerCase","trim","foodItem","find","food","name","includes","calories","serving_size","exerciseItem","exercise","calories_burned","duration","handleSendMessage","userMessage","botResponse","map","msg","index","e","target","value"],"sources":["C:/Users/shrut/OneDrive/Documents/project/Food/food-nutrients Phase-II/src/components/Chatbot.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./Chatbot.css\";\r\n\r\nconst Chatbot = () => {\r\n  const [messages, setMessages] = useState([{ text: \"Hello! Ask me about food nutrients or exercises.\", sender: \"bot\" }]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [caloriesData, setCaloriesData] = useState(null);\r\n  const [exerciseData, setExerciseData] = useState(null);\r\n\r\n  // Fetch JSON data on component mount\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const caloriesResponse = await fetch(`${window.location.origin}/data/calories.json`);\r\n        const exerciseResponse = await fetch(`${window.location.origin}/data/exercise.json`);\r\n\r\n        if (!caloriesResponse.ok || !exerciseResponse.ok) {\r\n          throw new Error(\"Failed to load JSON files\");\r\n        }\r\n\r\n        const caloriesJson = await caloriesResponse.json();\r\n        const exerciseJson = await exerciseResponse.json();\r\n\r\n        console.log(\"Calories Data Loaded:\", caloriesJson);\r\n        console.log(\"Exercise Data Loaded:\", exerciseJson);\r\n\r\n        setCaloriesData(caloriesJson);\r\n        setExerciseData(exerciseJson);\r\n      } catch (error) {\r\n        console.error(\"Error loading JSON data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Generate chatbot response based on input\r\n  const generateResponse = (query) => {\r\n    if (!caloriesData || !exerciseData) {\r\n      console.warn(\"JSON data is not loaded yet!\");\r\n      return \"I'm still loading the data. Please try again in a few seconds.\";\r\n    }\r\n\r\n    if (!query) {\r\n      return \"Please enter a question!\";\r\n    }\r\n\r\n    query = query.toLowerCase().trim();\r\n    console.log(\"User query:\", query);\r\n\r\n    const foodItem = caloriesData.find(food => food.name && query.includes(food.name.toLowerCase()));\r\n    if (foodItem) {\r\n      return `The food '${foodItem.name}' contains ${foodItem.calories} calories per ${foodItem.serving_size}.`;\r\n    }\r\n\r\n    const exerciseItem = exerciseData.find(exercise => exercise.name && query.includes(exercise.name.toLowerCase()));\r\n    if (exerciseItem) {\r\n      return `The activity '${exerciseItem.name}' burns around ${exerciseItem.calories_burned} calories per ${exerciseItem.duration}.`;\r\n    }\r\n\r\n    return \"I couldn't find the information you're looking for. Try asking about a food item or exercise.\";\r\n  };\r\n\r\n  // Handle user input\r\n  const handleSendMessage = () => {\r\n    if (input.trim() === \"\") return;\r\n\r\n    const userMessage = { text: input, sender: \"user\" };\r\n    const botResponse = { text: generateResponse(input), sender: \"bot\" };\r\n\r\n    setMessages([...messages, userMessage, botResponse]);\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatbot-container\">\r\n      <div className=\"chat-window\">\r\n        {messages.map((msg, index) => (\r\n          <div key={index} className={`message ${msg.sender}`}>\r\n            {msg.text}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"chat-input\">\r\n        <input\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          placeholder=\"Ask about food or exercise...\"\r\n        />\r\n        <button onClick={handleSendMessage}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chatbot;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}